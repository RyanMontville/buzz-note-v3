import{B as t}from"./main-BjQPQWDg.js";import{d as n}from"./db-Cx3PrDYs.js";async function g(a){try{const r=await n.averages.where("inspection_id").equals(a).toArray();return r.length===0?null:r.map(e=>new t(e.inspection_id,e.box_name,e.num_frames,e.honey,e.nectar,e.brood,e.queen_cells,e.drawn_comb,e.queen_spotted,e.average_id))}catch(r){throw console.error("Error fetching averages:",r),r}}async function i(a){try{const{average_id:r,...e}=a;return{message:"Average added successfully",average_id:(await n.averages.add(e)).toString()}}catch(r){throw console.error("Error adding average:",r),r}}async function l(a,r){try{const e=await n.frames.where("inspection_id").equals(a).filter(o=>o.box_name===r).toArray();return(!e||e.length===0)&&console.warn(`No frames found for Inspection: ${a}, Box: ${r}`),e}catch(e){throw console.error("IndexedDB Fetch Error:",e),e}}async function u(a){try{const{frame_id:r,...e}=a,o={...e,drawn_comb:a.drawn_comb?1:0,honey:a.honey?1:0,nectar:a.nectar?1:0,brood:a.brood?1:0,queen_cells:a.queen_cells?1:0};return{message:"Frame added successfully",frame_id:(await n.frames.add(o)).toString()}}catch(r){throw console.error("Error adding frame to IndexedDB:",r),r}}export{l as a,u as b,i as c,g};
