import{i as d,n as r,m as g,c as u,g as p,a as h,b as S}from"./main-BjQPQWDg.js";import{g as v}from"./hiveService-CRJ0-4lg.js";import{g as y}from"./weatherService-Bz6kAiig.js";import"./db-Cx3PrDYs.js";const E=document.querySelector("main"),m=document.getElementById("page-wrapper"),b=document.getElementById("loading"),I=document.getElementById("back-button");d("Select Hive").then(async()=>{try{I.addEventListener("click",()=>r("/"));const e=await v(!0);console.log(e);const n=document.createElement("main"),c=g("h2",null,null,"Select a hive");n.appendChild(c);const a=e.reduce((o,t)=>{const i=u(t.hive_name,"button",t.hive_id.toString(),"button white large full");return i.addEventListener("click",async()=>{sessionStorage.setItem("hiveId",JSON.stringify(t.hive_id)),sessionStorage.setItem("hiveName",t.hive_name),sessionStorage.setItem("date",p()),sessionStorage.setItem("time",h());const l=await y();sessionStorage.setItem("weather",JSON.stringify(l)),r("/frames")}),o.appendChild(i),o},document.createElement("section"));a.setAttribute("class","button-group-column"),n.appendChild(a);const s=m.querySelector("main");s&&s.remove(),m.appendChild(n)}catch(e){S(e,"main-message","error")}b.classList.add("hide"),E.classList.remove("hide")});
