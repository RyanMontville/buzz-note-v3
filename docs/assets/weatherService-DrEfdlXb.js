import{t as r,g as c,a as i,w as u,T as l}from"./main-D1Jcmwfi.js";const n="https://api.open-meteo.com/v1/forecast",d=41.44,g=-81.39,s="fahrenheit";function w(e){switch(e){case 0:case 1:return"Clear Sky";case 2:return"Partly Cloudy";case 3:return"Overcast";case 45:case 48:return"Fog";case 51:case 53:case 55:return"Drizzle";case 61:case 63:case 65:case 80:case 81:case 82:return"Rain";case 66:case 67:return"Freezing Rain";case 71:case 73:case 75:case 77:case 85:case 86:return"Snow";case 95:case 96:case 99:return"Thunderstorm";default:return"Unknown"}}const p=["Clear Sky","Drizzle","Freezing Rain","Fog","Partly Cloudy","Overcast","Rain","Snow","Thunderstorm","Unknown"],h=()=>new Promise((e,t)=>{navigator.geolocation||t(new Error("Geolocation is not supported by your browser.")),navigator.geolocation.getCurrentPosition(a=>e(a.coords),a=>t(a))});async function y(){const e=await h();try{await r.locations.add({id:1,latitude:e.latitude,longitude:e.longitude,accuracy:e.accuracy,timestamp:c()+" "+i()}),u("Location updated successfully","main-message","check_circle")}catch(t){console.error("Failed to save location to IndexedDB:",t)}}async function f(){return await r.locations.get(1)}async function C(){try{const e=await r.locations.get(1);let t="";e?t=`${n}?latitude=${e.latitude}&longitude=${e.longitude}&current_weather=true&temperature_unit=${s}&timezone=auto`:t=`${n}?latitude=${d}&longitude=${g}&current_weather=true&temperature_unit=${s}&timezone=auto`;const a=await fetch(t);if(!a.ok)throw new Error("Weather data fetch failed");const o=await a.json();return new l(o.current_weather.temperature,w(o.current_weather.weathercode))}catch(e){console.error("Error:",e)}}export{p as W,C as a,f as g,y as s};
