import{i as u,s as m,d as f,j as h,a as y}from"./main-Ca-RDbF7.js";/* empty css               */import{g as L}from"./inspectionService-BZO5sn4U.js";import"./db-1doVCpW2.js";const a=document.querySelector("main"),d=document.getElementById("loading");let n=null,r=[];function p(t){return t.split("-")[0]}function g(){n&&(r=n.reduce((e,i)=>{const s=p(i.inspection_date);return e.includes(s)||e.push(s),e},[]).reverse())}function b(t){const e=r.reduce((i,s)=>{const o=y(s,"button",s,"button white");return t===s&&(o.classList.remove("white"),o.classList.add("blue")),o.addEventListener("click",()=>{c(s)}),i.appendChild(o),i},document.createElement("section"));e.setAttribute("class","button-group-row"),e.setAttribute("id","year-selector"),a.appendChild(e)}function w(t){if(n)return n.filter(e=>p(e.inspection_date)===t)}function c(t){a.innerHTML="",b(t);const e=w(t),i=["inspection_date","hive_name","start_time","num_boxes","total_frames","has_notes"];if(e){const s=h(e,i,"inspection_id");s.classList.add("table-clickable"),s.querySelectorAll("tr").forEach(l=>l.addEventListener("click",()=>window.location.href=`/past/inspectionDetail?sentFrom=past&year=${t}&inspectionId=${l.id}`)),a.appendChild(s)}}u("Past Inspections").then(async()=>{try{const e=new URLSearchParams(window.location.search).get("year");n=await L(),n&&m(n),g(),c(e||r[r.length-1]),d.classList.add("hide")}catch(t){d.classList.add("hide"),f(t,"main-message","error")}a.classList.remove("hide")});
