import{i as u,s as m,b as f,h,n as g,c as y}from"./main-BjQPQWDg.js";/* empty css               */import{g as L}from"./inspectionService-A3-19NT0.js";import"./db-Cx3PrDYs.js";const o=document.querySelector("main"),d=document.getElementById("loading");let n=null,r=[];function p(t){return t.split("-")[0]}function b(){n&&(r=n.reduce((e,i)=>{const s=p(i.inspection_date);return e.includes(s)||e.push(s),e},[]).reverse())}function w(t){const e=r.reduce((i,s)=>{const a=y(s,"button",s,"button white");return t===s&&(a.classList.remove("white"),a.classList.add("blue")),a.addEventListener("click",()=>{c(s)}),i.appendChild(a),i},document.createElement("section"));e.setAttribute("class","button-group-row"),e.setAttribute("id","year-selector"),o.appendChild(e)}function I(t){if(n)return n.filter(e=>p(e.inspection_date)===t)}function c(t){o.innerHTML="",w(t);const e=I(t),i=["inspection_date","hive_name","start_time","num_boxes","total_frames","has_notes"];if(e){const s=h(e,i,"inspection_id");s.classList.add("table-clickable"),s.querySelectorAll("tr").forEach(l=>l.addEventListener("click",()=>g("/past/inspectionDetail",{params:{sentFrom:"past",year:t,inspectionId:l.id}}))),o.appendChild(s)}}u("Past Inspections").then(async()=>{try{const e=new URLSearchParams(window.location.search).get("year");n=await L(),n&&m(n),b(),c(e||r[r.length-1]),d.classList.add("hide")}catch(t){d.classList.add("hide"),f(t,"main-message","error")}o.classList.remove("hide")});
